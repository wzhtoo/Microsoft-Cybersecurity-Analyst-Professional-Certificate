# Azure Firewall rule configuration

[Azure Firewall rule configuration 🔗](https://www.coursera.org/learn/cybersecurity-solutions-and-microsoft-defender/lecture/T9xun/azure-firewall-rule-configuration)

# Azure Firewall Rule Configuration (Azure Firewall စည်းမျဉ်း ပြင်ဆင်သတ်မှတ်ခြင်း)

## Introduction (နိဒါန်း)

Azure Firewall ကို ဖြန့်ကျက်ပြီးသည်နှင့်၊ ၎င်း၏ NAT၊ ကွန်ရက်၊ နှင့် အပ္ပလီကေးရှင်း စည်းမျဉ်းများကို ပြင်ဆင်သတ်မှတ်ရန် လိုအပ်သည်။ ဤစည်းမျဉ်းများသည် ဖိုင်းဝေါလ်သည် သင့် Azure ဖြန့်ကျက်မှုကို မည်သို့ လုံခြုံစေမည်၊ မည်သည့် အသွားအလာများကို သင့် VNets နှင့် ဗဟိုကွန်ပျူတာများသို့ ခွင့်ပြုမည်ကို ဆုံးဖြတ်ပေးသည်။ ဤဗီဒီယိုတွင်၊ ဤဖိုင်းဝေါလ် စည်းမျဉ်း အမျိုးအစား သုံးမျိုးကို မည်သို့ သတ်မှတ်ရမည်ကို သင်လေ့လာရမည်ဖြစ်သည်။ ထို့ပြင် Microsoft Threat Intelligence ကို "Alert" မှ "Alert and Deny" သို့ ပြောင်းလဲနည်းကိုလည်း လေ့လာရမည်ဖြစ်သည်။

## Step-by-Step Rule Configuration (အဆင့်ဆင့် စည်းမျဉ်း ပြင်ဆင်သတ်မှတ်ခြင်း)

### 1. Accessing the Firewall (ဖိုင်းဝေါလ်သို့ ဝင်ရောက်ခြင်း)

Azure ပေါ်တယ် ပင်မစာမျက်နှာတွင်၊ Azure ဝန်ဆောင်မှု ဘားရှိ **Firewalls** ကို နှိပ်ပါ။ ၎င်းသည် သင် ဖိုင်းဝေါလ် စည်းမျဉ်းများ သတ်မှတ်မည့် Firewall ဝန်ဆောင်မှု စာမျက်နှာသို့ ခေါ်ဆောင်သွားမည်ဖြစ်သည်။

သို့သော် စည်းမျဉ်းများ မသတ်မှတ်မီ၊ ဖိုင်းဝေါလ်၏ အများသူငှာ IP လိပ်စာအသစ်ကို ရယူရန် လိုအပ်သည်။ ပင်မစာမျက်နှာတွင်၊ **Firewall Public IP** ကို နှိပ်ပြီး နောက်ပိုင်းတွင် အသုံးပြုရန် IP လိပ်စာကို ကူးယူပါ�। ပင်မဖိုင်းဝေါလ် စာမျက်နှာသို့ ပြန်သွားရန်၊ ထိပ်ရှိ လမ်းညွှန် ဒါရိုက်ထရီကို အသုံးပြု၍ **Go to Resource** (အရင်းအမြစ်သို့ သွားရန်) ကို နှိပ်ပါ�।

### 2. Navigating to Rules (စည်းမျဉ်းများသို့ သွားခြင်း)

Firewall ဝန်ဆောင်မှု စာမျက်နှာတွင် ပြင်ဆင်သတ်မှတ်နိုင်သော ဆက်တင်များ အများအပြား ရှိသော်လည်း၊ ဤဗီဒီယိုတွင် ဖိုင်းဝေါလ် စည်းမျဉ်းများ ဖန်တီးခြင်းကို အာရုံစိုက်မည်ဖြစ်သည်။ ဘယ်ဘက် အကန့်ရှိ **Rules** (စည်းမျဉ်းများ) ကို နှိပ်ပါ။ ထို့နောက် စည်းမျဉ်း စုစည်းမှု (rule collections) သုံးမျိုးအတွက် တဘ် သုံးခု ပေါ်လာမည်ဖြစ်သည်-

- NAT Rule Collection
- Network Rule Collection
- Application Rule Collection

### 3. Creating a NAT Rule Collection (NAT စည်းမျဉ်း စုစည်းမှု ဖန်တီးခြင်း)

**Add NAT Rule Collection** (NAT စည်းမျဉ်း စုစည်းမှု ထည့်ရန်) ကို နှိပ်ခြင်းဖြင့် NAT စည်းမျဉ်း စုစည်းမှုကို စတင် ဖန်တီးပါ။

- **အမည်သတ်မှတ်ခြင်း:** စည်းမျဉ်း စုစည်းမှု အားလုံးတွင် အမည်တစ်ခု လိုအပ်ပြီး၊ ၎င်းတို့ လုပ်ဆောင်နေသော အလုပ်ကို ဖော်ပြသော အမည်ပေးခြင်းသည် အကောင်းဆုံး အလေ့အကျင့်ဖြစ်သည်။ ဤဥပမာတွင် "NAT-test" ဟု အမည်ပေးပါ။
- **ဦးစားပေး နံပါတ် (Priority):** စည်းမျဉ်းတိုင်းတွင် ဦးစားပေး နံပါတ်တစ်ခု လိုအပ်ပြီး၊ ၎င်းသည် လုပ်ဆောင်မှု အစီအစဉ်ကို ဆုံးဖြတ်သည်။ စုစည်းမှုများကြားတွင် နံပါတ်များကို 100 ခုံးအကွာအဝေးဖြင့် သတ်မှတ်သင့်သည် (ဥပမာ 150 တွင် စည်းမျဉ်းအသစ် ထည့်သွင်းနိုင်ရန်)။ ဤဥပမာတွင် 200 ကို အသုံးပြုပါ�।
- **စည်းမျဉ်း ဖန်တီးခြင်း:** စုစည်းမှုတစ်ခုအောက်တွင် စည်းမျဉ်းများ အများအပြား ဖန်တီးနိုင်သော်လည်း၊ ဤတွင် တစ်ခုသာ ဖန်တီးမည်ဖြစ်သည်။
  - **စည်းမျဉ်း အမည်:** "Nat1Web" ဟု အမည်ပေးပါ။ ၎င်းသည် အများသူငှာ IP ကို ဝက်ဘ်ဆာဗာ၏ သီးသန့် IP သို့ ပြောင်းလဲပေးမည်ဖြစ်သည်။
  - **ပရိုတိုကော (Protocol):** TCP ကို ရွေးပါ။
  - **အရင်းအမြစ် IP (Source IP):** "\*" (ကြယ်ပွင့်) ကို ထည့်ပါ။ ၎င်းသည် ကမ္ဘာပေါ်ရှိ မည်သည့်နေရာမှ ဖြစ်နိုင်သည်ကို ဆိုလိုသည်။
  - **ဦးတည်ရာ လိပ်စာ (Destination Address):** ဖိုင်းဝေါလ်၏ အများသူငှာ IP လိပ်စာကို ယခင်က ကူးယူထားသည့် နေရာတွင် ကူးထည့်ပါ။
  - **ဦးတည်ရာ ပို့တ် (Destination Port):** လုံခြုံသော ဝက်ဘ် အသွားအလာအတွက် 443 ကို အသုံးပြုပါ။
  - **ပြောင်းလဲထားသော လိပ်စာ (Translated Address):** ဝက်ဘ်ဆာဗာ၏ လိပ်စာ 172.1.1.4 ကို ထည့်ပါ။
  - **ပြောင်းလဲထားသော ပို့တ် (Translated Port):** ပို့တ် 443 ကို ဆက်ထားပါ။

ပြီးသည်နှင့် **Add** (ထည့်ရန်) ကို နှိပ်ပါ။ ခဏအကြာတွင် စည်းမျဉ်းသည် NAT Rule Collection တဘ်အောက်တွင် ပြသမည်ဖြစ်သည်။

### 4. Creating a Network Rule Collection (ကွန်ရက် စည်းမျဉ်း စုစည်းမှု ဖန်တီးခြင်း)

ကွန်ရက် စည်းမျဉ်း စုစည်းမှု ဖန်တီးခြင်းသည် အလွန်ဆင်တူသည်။ **Add Network Rule Collection** (ကွန်ရက် စည်းမျဉ်း စုစည်းမှု ထည့်ရန်) ကို နှိပ်ပါ။

- **အမည်သတ်မှတ်ခြင်း:** စည်းမျဉ်းကို ၎င်းလုပ်ဆောင်နေသော အလုပ်နှင့် သက်ဆိုင်သော အမည်ပေးပါ။ ဤဥပမာတွင် DNS အသွားအလာကို ခွင့်ပြုမည့် စည်းမျဉ်းဖြစ်သောကြောင့် "DNS" ဟု အမည်ပေးပြီး ဦးစားပေး နံပါတ် 200 ကို ပေးပါ။
- **လုပ်ဆောင်ချက် (Action):** "Allow" (ခွင့်ပြု) ကို သတ်မှတ်ပါ။ ၎င်းသည် "Deny" (ငြင်းပယ်) လုပ်ဆောင်ချက်၏ အခြားရွေးချယ်မှုဖြစ်သည်။
- **စည်းမျဉ်းနှင့် IP လိပ်စာများ:**
  - **စည်းမျဉ်း အမည်:** "DNS1" ဟု အမည်ပေးပါ�।
  - **ပရိုတိုကော (Protocol):** DNS အတွက် ခွင့်ပြုမည့် ပရိုတိုကောအဖြစ် UDP ကို ရွေးပါ။
  - **အရင်းအမြစ် IP (Source IP):** ဤဥပမာတွင် ဝက်ဘ်ဆာဗာ၏ IP ဖြစ်သည့် 172.16.1.4 ကို သတ်မှတ်ပါ။
  - **ဦးတည်ရာ လိပ်စာ (Destination Address):** သတ်မှတ်ထားသော DNS ဆာဗာများကို သတ်မှတ်နိုင်သော်လည်း၊ ဤဥပမာတွင် "\*" (ကြယ်ပွင့်) ကို ထည့်ပါ။ ၎င်းသည် မည်သည့်အရာကိုမဆို ခွင့်ပြုသည်။
  - **ဦးတည်ရာ ပို့တ် (Destination Port):** DNS အတွက် ပို့တ် 53 ကို ထည့်ပါ�।

ပြီးသည်နှင့် **Add** (ထည့်ရန်) ကို နှိပ်ပါ။ ဖိုင်းဝေါလ်သည် နောက်ခံတွင် စည်းမျဉ်းကို ထည့်သွင်းပြီး အပ်ဒိတ်လုပ်မည်ဖြစ်သည်။

### 5. Creating an Application Rule Collection (အပ္ပလီကေးရှင်း စည်းမျဉ်း စုစည်းမှု ဖန်တီးခြင်း)

**Add Application Rule Collection** (အပ္ပလီကေးရှင်း စည်းမျဉ်း ထည့်ရန်) ကို နှိပ်ခြင်းဖြင့် အပ္ပလီကေးရှင်း စည်းမျဉ်း စုစည်းမှုကို ဖန်တီးပါ။ ဤစည်းမျဉ်းသည် ဝက်ဘ်ဆာဗာမှ Microsoft ဝက်ဘ်ဆိုက်သို့ ဝင်ရောက်ခွင့်ကို ဖွင့်ပေးမည်ဖြစ်သည်။

- **အမည်သတ်မှတ်ခြင်း:** စည်းမျဉ်း စုစည်းမှုကို "Microsoft" ဟု အမည်ပေးပြီး၊ ဦးစားပေး နံပါတ် 200 ကို အသုံးပြုကာ "Allow" (ခွင့်ပြု) ကို လုပ်ဆောင်ချက်အဖြစ် ရွေးပါ။
- **ပစ်မှတ် FQDN (Target FQDN):** အပ္ပလီကေးရှင်း စည်းမျဉ်းများအတွက် ပစ်မှတ် FQDN အပိုင်းကို အသုံးပြုသည်။
  - **စည်းမျဉ်း အမည်:** "Microsoft" ဟု အမည်ပေးပါ။
  - **အရင်းအမြစ် IP (Source IP):** ဝက်ဘ်ဆာဗာ၏ IP ဖြစ်သည့် 172.16.1.4 ကို သတ်မှတ်ပါ။
  - **ပရိုတိုကော (Protocol):** HTTP နှင့် HTTPS ကို အသုံးပြုနိုင်သည်ဟု သတ်မှတ်ပါ။
  - **ပစ်မှတ် FQDN (Target FQDN):** "www.microsoft.com" ကို ဖြည့်ပါ�।

ထပ်မံ၍ စည်းမျဉ်းများ ထည့်နိုင်သော်လည်း၊ ယခုအခါ **Add** (ထည့်ရန်) ကို နှိပ်ပါ။ ဖိုင်းဝေါလ်သည် နောက်ဆုံး စည်းမျဉ်းဖြင့် အပ်ဒိတ်လုပ်မည်ဖြစ်သည်။

### 6. Configuring Threat Intelligence (ခြိမ်းခြောက်မှု ထောက်လှမ်းရေး ပြင်ဆင်သတ်မှတ်ခြင်း)

နောက်ဆုံးအနေဖြင့်၊ ခြိမ်းခြောက်မှု ထောက်လှမ်းရေး (Threat Intelligence) ကို ပြင်ဆင်သတ်မှတ်ကြပါစို့။ ၎င်းကို ဘယ်ဘက် မီနူးရှိ **Settings** (ဆက်တင်များ) အပိုင်းအောက်တွင် လုပ်ဆောင်နိုင်သည်။

- မူလသတ်မှတ်ချက်အရ၊ Threat Intelligence သည် "Alert Only" (သတိပေးရန်သာ) အဖြစ် သတ်မှတ်ထားသည်။
- ၎င်းကို "Off" (ပိတ်ရန်) သို့မဟုတ် "Alert and Deny" (သတိပေးပြီး ငြင်းပယ်ရန်) သို့ ပြောင်းနိုင်သည်။ Threat Intelligence မှ စည်းမျဉ်းများကို အလိုအလျောက် ဖန်တီးစေလိုပါက "Alert and Deny" ကို ရွေးပါ။
- **Save** (သိမ်းရန်) ခလုတ်ကို နှိပ်ပါ။ ၎င်းသည် အလိုအလျောက် Threat Intelligence အင်္ဂါရပ်ကို ဖွင့်ပေးမည်ဖြစ်သည်။

## Conclusion (နိဂုံး)

ဤဗီဒီယိုတွင်၊ NAT၊ ကွန်ရက်၊ နှင့် အပ္ပလီကေးရှင်း ဟူသော ဖိုင်းဝေါလ် စည်းမျဉ်း စုစည်းမှု အမျိုးအစား သုံးမျိုးကို မည်သို့ ပြင်ဆင်သတ်မှတ်ရမည်ကို သင်လေ့လာခဲ့သည်။ ဤစည်းမျဉ်းများတွင် ကွန်ရက် လုံခြုံရေးကို စိတ်ကြိုက်ပြင်ဆင်ရန် ကူညီပေးသော ကွဲပြားသော အချက်များ ပါရှိပြီး၊ အချို့သော အသွားအလာများကို ခွင့်ပြုခြင်း သို့မဟုတ် ငြင်းပယ်ခြင်း ပြုလုပ်နိုင်သည်။ ထို့ပြင် Microsoft Threat Intelligence ကို ဖွင့်ရန် မည်မျှ လွယ်ကူကြောင်း၊ ခြိမ်းခြောက်မှုအသစ်များအတွက် ငြင်းပယ် စည်းမျဉ်းများကို အလိုအလျောက် ဖန်တီးပေးနိုင်ကြောင်း သင်ရှာဖွေတွေ့ရှိခဲ့သည်။
