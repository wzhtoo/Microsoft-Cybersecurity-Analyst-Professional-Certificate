# Bastion and virtual machines

[Bastion and virtual machines 🔗](https://www.coursera.org/learn/cybersecurity-solutions-and-microsoft-defender/lecture/BEhYQ/bastion-and-virtual-machines)

# Bastion နှင့် ဗာ့ချွယ် မက်ရှင်များ

## Introduction (နိဒါန်း)

ဤဗီဒီယိုတွင်၊ သင်သည် Azure ပေါ်တယ်မှ Psalms Scoops Azure အငှားသူ (Tenant) တွင် Azure Bastion ကို မည်သို့ ဖြန့်ကျက်ရမည်၊ SamScoopsWeb VM ကို ကာကွယ်ရန် Azure Bastion ကို မည်သို့ အသုံးပြုရမည်ကို သင်ယူမည်ဖြစ်သည်။ ထို့ပြင်၊ ပိုမိုကောင်းမွန်သော ကာကွယ်မှုအတွက် Bastion ကို JIT (Just-In-Time) ဝင်ရောက်ခွင့်နှင့် မည်သို့ ပေါင်းစပ်အသုံးပြုနိုင်သည်ကိုလည်း သင်ယူမည်ဖြစ်သည်။ Azure ပေါ်တယ် ပင်မစာမျက်နှာမှ စတင်ကြပါစို့။

## Deploying Azure Bastion (Azure Bastion ဖြန့်ကျက်ခြင်း)

ရှာဖွေမှု လုပ်ဆောင်ချက် (Search Function) ကို အသုံးပြု၍ ဗာ့ချွယ် ကွန်ရက်များ (Virtual Networks) ကို ရှာဖွေပြီး **ဗာ့ချွယ် ကွန်ရက်များ (Virtual Networks)** ရွေးချယ်မှုကို ရွေးပါ။ ထို့နောက် **WebServer** ဗာ့ချွယ် ကွန်ရက်ကို ရွေးပါ။ ဗာ့ချွယ် ကွန်ရက်၏ စာမျက်နှာတွင်၊ ဘယ်ဘက် အကန့် (Left Pane) တွင် **Bastion** ကို ရွေးချယ်ပြီး Bastion စာမျက်နှာကို ဖွင့်ပါ�। Bastion စာမျက်နှာတွင်၊ **ကိုယ်တိုင် ပြင်ဆင်သတ်မှတ်ရန် (Configure Manually)** ကို ရွေးပါ။ ၎င်းသည် Bastion ကို သင့် VNet သို့ ဖြန့်ကျက်သည့်အခါ သတ်မှတ်ထားသော ထပ်ဆောင်း ဆက်တင်များကို ပြင်ဆင်သတ်မှတ်နိုင်စေသည်။

**Bastion ဖန်တီးမှု စာမျက်နှာ (Create a Bastion Page)** တွင်၊ Bastion အိမ်ရှင် (Bastion Host) အတွက် ဆက်တင်များကို ပြင်ဆင်သတ်မှတ်ပါ။ ပရောဂျက် အသေးစိတ်အချက်အလက်များ (Project Details) သည် သင်ရွေးချယ်ထားသော VNet နှင့် စာရင်းသွင်းမှု (Subscription) အလိုက် အလိုအလျောက် ဖြည့်သွင်းပေးထားသည်။ ထို့ကြောင့်၊ ပရောဂျက် အသေးစိတ်အချက်အလက်တွင် **Azure Subscription 1** နှင့် **Web Server** ကို ရွေးချယ်ပြီးဖြစ်သည်။ Bastion ဥပမာ အသေးစိတ်အချက်အလက်များ (Instance Details) ကို ပြင်ဆင်သတ်မှတ်ရန်၊ ၎င်းကို အမည်တစ်ခု ပေးပါ။ ဤကိစ္စတွင် **SamScoops** ဖြစ်သည်။ ဒေသ (Region) တစ်ခုကို ရွေးပါ၊ **အနောက်ဥရောပ (West Europe)** ကို ရွေးချယ်ပါ။ ရွေးချယ်ထားသော အဆင့် (Tier) တွင်၊ သင်သည် **စံ (Standard)** ကို အသုံးပြုမည်ဖြစ်သည်။ ဥပမာ အရေအတွက် (Instance Count) သည် အိမ်ရှင် စကေးချဲ့ထွင်မှု (Host Scaling) အတွက် ဆက်တင်ဖြစ်ပြီး၊ ၎င်းကို စကေး ယူနစ် တိုးမြှင့်မှု (Scale Unit Increments) ဖြင့် ပြင်ဆင်သတ်မှတ်ထားသည်။ မူလသတ်မှတ်ချက် (Default) ဖြစ်သော ၂ တွင် ထားပါ။

ဗာ့ချွယ် ကွန်ရက် ဆက်တင်များ (Virtual Network Settings) ကို ပြင်ဆင်သတ်မှတ်ရန်၊ ဆွဲချမီနူး (Drop-Down Menu) မှ **Web Server VNet** ကို ရွေးပါ။ ထို့နောက်၊ Azure Bastion သည် **AzureBastionSubnet** ဟု အမည်ပေးထားသော ဆပ်နက် (Subnet) တစ်ခု လိုအပ်သည်။ **AzureBastionSubnet** ကို ပြင်ဆင်သတ်မှတ်ရန်၊ **ဆပ်နက် စီမံခန့်ခွဲမှု ပြင်ဆင်သတ်မှတ်ခြင်း (Manage Subnet Configuration)** ကို ရွေးပါ။ **ဆပ်နက် ထည့်သွင်းမှု စာမျက်နှာ (Add Subnet Page)** တွင်၊ အောက်ပါ တန်ဖိုးများကို အသုံးပြု၍ **AzureBastionSubnet** ကို ဖန်တီးပါ။ အခြား တန်ဖိုးများကို မူလသတ်မှတ်ချက် (Default) အတိုင်း ထားပါ။

- ဆပ်နက် အမည် (Subnet Name) သည် **AzureBastionSubnet** ဖြစ်ရမည်။
- SamScoops အတွက် ဆပ်နက် လိပ်စာ အပိုင်းအခြား (Subnet Address Range) သည် **172.16.2.0/24** ဖြစ်သည်။

**[ဗီဒီယို ၁:၅၄ မှ စတင်ဖွင့်ပြီး မှတ်တမ်းကို လိုက်နာပါ]**  
ဆပ်နက်သည် စံ SKU (Standard SKU) နှင့် ရရှိနိုင်သော အင်္ဂါရပ်များကို လိုက်လျောညီထွေဖြစ်စေရန် အနည်းဆုံး /26 သို့မဟုတ် ပိုကြီးရမည်။ စာမျက်နှာ၏ အောက်ခြေရှိ **သိမ်းဆည်းရန် (Save)** ကို ရွေးချယ်ပြီး သင့်တန်ဖိုးများကို သိမ်းဆည်းပါ။ ဖန်သားပြင်၏ အပေါ်ဘယ်ဘက်ခြမ်းရှိ **Bastion ဖန်တီးရန် (Create a Bastion)** ကို ရွေးချယ်ပြီး Bastion ပြင်ဆင်သတ်မှတ်မှု စာမျက်နှာသို့ ပြန်သွားပါ။

**ပြည်သူ့ IP လိပ်စာ (Public IP Address)** အပိုင်းသည် RDP နှင့် SSH ကို ပို့ ၄၄၃ မှတစ်ဆင့် ဝင်ရောက်မည့် Bastion အိမ်ရှင် အရင်းအမြစ်၏ ပြည်သူ့ IP လိပ်စာကို ပြင်ဆင်သတ်မှတ်သည့် နေရာဖြစ်သည်။ ပြည်သူ့ IP လိပ်စာသည် သင်ဖန်တီးနေသော Bastion အရင်းအမြစ်နှင့် တူညီသော ဒေသ (Region) တွင် ရှိရမည်။ IP လိပ်စာအသစ်တစ်ခု ဖန်တီးရန်၊ ၎င်းကို မူလသတ်မှတ်ချက် (Default) ဖြစ်သော **အသစ်ဖန်တီးရန် (Create New)** အတိုင်း ထားပါ။ မူလသတ်မှတ်ထားသော အမည်ပေးအကြံပြုချက် (Default Naming Suggestion) ကို ထားနိုင်သည်။ ဆက်တင်များ သတ်မှတ်ပြီးသည်နှင့်၊ **ပြန်လည်သုံးသပ်ပြီး ဖန်တီးရန် (Review + Create)** ကို ရွေးပါ။ ၎င်းသည် တန်ဖိုးများကို စိစစ်ပေးသည်။ စိစစ်မှု အောင်မြင်သည်နှင့်၊ Bastion ကို ဖြန့်ကျက်နိုင်ပြီး၊ **ဖန်တီးရန် (Create)** ကို ရွေးပါ။ သင့်ဖြန့်ကျက်မှုသည် ဆောင်ရွက်ဆဲဖြစ်ကြောင်း အသိပေးသည့် မက်ဆေ့ချ်တစ်ခု ပေါ်လာမည်ဖြစ်သည်။ အရင်းအမြစ်များ ဖန်တီးနေစဉ် ဤစာမျက်နှာတွင် အခြေအနေ (Status) ကို ပြသမည်ဖြစ်သည်။ Bastion အရင်းအမြစ်ကို ဖန်တီးပြီး ဖြန့်ကျက်ရန် မိနစ် ၁၀ ခန့် ကြာမြင့်သည်။

## Connecting Bastion with JIT Access (Bastion ကို JIT ဝင်ရောက်ခွင့်နှင့် ချိတ်ဆက်ခြင်း)

ယခု Bastion ကို JIT ဝင်ရောက်ခွင့်နှင့် ချိတ်ဆက်ရန် အဆင့်များကို သုံးသပ်ကြပါစို့။ Azure ပေါ်တယ်တွင်၊ **ဗာ့ချွယ် မက်ရှင်များ (Virtual Machines)** ကို ရွေးပါ။ **SamScoopsWeb VM** ကို ရွေးပါ။ စာမျက်နှာ၏ ထိပ်တွင်၊ **ချိတ်ဆက်ရန် (Connect)** ကို ရွေးပါ။ IP လိပ်စာ ဆွဲချမီနူး (IP Address Drop-Down Menu) မှ **သီးသန့် IP လိပ်စာ (Private IP Address)** ကို ရွေးပြီး **ဝင်ရောက်ခွင့် တောင်းဆိုရန် (Request Access)** ကို ရွေးပါ။ ၎င်းသည် Bastion ချိတ်ဆက်ရန် JIT ပို့များကို ဖွင့်ပေးသည်။ စာမျက်နှာ၏ ထိပ်တွင်၊ **Bastion** ကို ရွေးချယ်ပြီး Bastion စာမျက်နှာသို့ သွားပါ။ **Bastion အသုံးပြုရန် (Use Bastion)** ကို ရွေးပါ။ ၎င်းသည် RDP နှင့် ပို့ ၃၃၈၉ ကို အသုံးပြု၍ Windows ကွန်ပျူတာသို့ ချိတ်ဆက်နိုင်စေမည်ဖြစ်သည်။ အထောက်အထား စိစစ်မှု အမျိုးအစား (Authentication Type) ကို စကားဝှက် (Password) အဖြစ် သတ်မှတ်ပြီးဖြစ်သည်။ ဤဆက်တင်ကို မူအတိုင်း ထားပါ။ လိုအပ်သော အထောက်အထား စိစစ်မှု တန်ဖိုးများကို ဖြည့်စွမ်းပါ။ ဤကိစ္စတွင်၊ SamScoops VM အတွက်၊ အသုံးပြုသူအမည် (Username) သည် **AZAdmin** ဖြစ်ပြီး စကားဝှက် (Password) သည် **p@$$@1234567** ဖြစ်သည်။ VM ဆက်ရှင်ကို ဘရောက်ဇာ တပ်ဗ်အသစ်တွင် ဖွင့်ရန်၊ **ဘရောက်ဇာ တပ်ဗ်အသစ်တွင် ဖွင့်ရန် (Open in a New Browser Tab)** ကို ရွေးချယ်ထားပါ။ **ချိတ်ဆက်ရန် (Connect)** ကို ရွေးပြီး VM သို့ ချိတ်ဆက်ပါ။

## Connection via Bastion (Bastion မှတစ်ဆင့် ချိတ်ဆက်မှု)

Bastion မှတစ်ဆင့် ဤဗာ့ချွယ် မက်ရှင်သို့ ချိတ်ဆက်မှုသည် ပို့ ၄၄၃ နှင့် Bastion ဝန်ဆောင်မှုကို အသုံးပြု၍ HTML5 မှတစ်ဆင့် Azure ပေါ်တယ်တွင် တိုက်ရိုက် ဖွင့်လှစ်မည်ဖြစ်သည်။

## Conclusion (နိဂုံး)

ဤဗီဒီယိုတွင်၊ ဗာ့ချွယ် မက်ရှင်တစ်ခုသို့ ချိတ်ဆက်ရန် Azure Bastion ကို မည်သို့ ပြင်ဆင်သတ်မှတ်ပြီး ဖြန့်ကျက်ရမည်ကို သင်ယူခဲ့သည်။ ဤဥပမာတွင်၊ စီမံခန့်ခွဲမှု ပို့များ၏ အပိုကာကွယ်မှုအတွက် Azure Bastion နှင့် JIT ဝင်ရောက်ခွင့်ကို အသုံးပြုခဲ့သည်။
