# Advanced firewall design patterns in Azure

[Advanced firewall design patterns in Azure 🔗](https://www.coursera.org/learn/cybersecurity-tools-and-technologies/supplement/oVNoy/advanced-firewall-design-patterns-in-azure)

# Advanced firewall design patterns in Azure (Azure တွင် အဆင့်မြင့် firewall ဒီဇိုင်းပုံစံများ)

## မိတ်ဆက် (Introduction)

ပေါင်းစည်းထားသော လုပ်ငန်း အပိုင်းခွဲ မဟာဗျူဟာသည် နည်းပညာအဖွဲ့များကို ကွန်ရက်ချိတ်ဆက်ခြင်း၊ အသုံးချပရိုဂရမ်များ၊ အထောက်အထားများနှင့် အခြားဝင်ရောက်ထိန်းချုပ်မှုများကို အသုံးပြု၍ ဝင်ရောက်ခွင့်ကို တသမတ်တည်း အပိုင်းခွဲရန် လမ်းညွှန်ပေးပါသည်။ ဤစာဖတ်ခြင်းတွင် ကွန်ရက် အပိုင်းခွဲခြင်း၏ အရေးပါမှုကို သင် စူးစမ်းလေ့လာပြီး Azure တွင် အဆင့်မြင့် firewall ဒီဇိုင်းပုံစံများကို ပြန်လည်သုံးသပ်ပါမည်။

ကွန်ရက် အပိုင်းခွဲခြင်းတွင် သင်၏ ကွန်ရက်ခြေရာအတွင်း နယ်နိမိတ်များကို သတ်မှတ်ခြင်း ပါဝင်ပြီး အောက်ပါ အရေးကြီးသော ရည်ရွယ်ချက်များစွာကို ဆောင်ရွက်ပေးပါသည်။
လုပ်ငန်းတာဝန် လုပ်ဆောင်ချက်များ၏ အစိတ်အပိုင်းဖြစ်သော (သို့မဟုတ် ပံ့ပိုးပေးသော) ဆက်စပ် ပိုင်ဆိုင်မှုများကို စုစည်းခြင်း။
လုံခြုံရေးကို မြှင့်တင်ရန်နှင့် အန္တရာယ်များကို လျှော့ချရန် အရင်းအမြစ်များကို သီးခြားခွဲထုတ်ခြင်း။
အဖွဲ့အစည်းမှ ချမှတ်ထားသော အုပ်ချုပ်မှု မူဝါဒများကို အတည်ပြုခြင်း။
အရင်းအမြစ်များ သီးခြားခွဲထုတ်ခြင်း။
အဖွဲ့အစည်းမှ ချမှတ်ထားသော အုပ်ချုပ်မှု မူဝါဒများ။

အကြံပြုထားသော ဆိုက်ဘာလုံခြုံရေး အတွေးအမြင်မှာ စနစ်တစ်ခုကို အလျှော့ပေးနိုင်သည်ဟု ယူဆရန် ဖြစ်ပါသည်။ ဤချဉ်းကပ်မှုသည် သင်၏ သတင်းအချက်အလက် စနစ်များကို ကာကွယ်ရန်အတွက် ဖြစ်နိုင်ချေရှိသော တိုက်ခိုက်သူများကို ထိန်းချုပ်ခြင်း၏ အရေးပါမှုကို အလေးပေးပါသည်။ ၎င်းတွင် တိုက်ခိုက်သူသည် သင်၏ လုပ်ငန်းတာဝန်အတွင်း အမျိုးမျိုးသော အချက်များတွင် ခြေကုပ်ရယူသည့် အခြေအနေများကို မြင်ယောင်ခြင်း ပါဝင်ပါသည်။ ထို့နောက် သင်၏ စနစ်အတွင်း တိုက်ခိုက်သူ၏ လက်လှမ်းမီမှုကို တိုးချဲ့ခြင်းမှ တားဆီးရန် ကာကွယ်ရေး အစီအမံများ တည်ဆောက်ခြင်း ပါဝင်ပါသည်။

ကွန်ရက် ထိန်းချုပ်မှုများသည် နယ်နိမိတ်များကြား အပြန်အလှန် ဆက်သွယ်မှုများကို လုံခြုံစေနိုင်ပါသည်။ ဤချဉ်းကပ်မှုသည် လုံခြုံရေး အနေအထားကို အားကောင်းစေပြီး ချိုးဖောက်မှုတစ်ခုတွင် အန္တရာယ်များကို ထိန်းချုပ်နိုင်ပါသည်။ အဘယ်ကြောင့်ဆိုသော် ထိန်းချုပ်မှုများသည် တိုက်ခိုက်သူများ လုပ်ငန်းတာဝန်တစ်ခုလုံးသို့ ဝင်ရောက်ခြင်းမှ ရှာဖွေတွေ့ရှိခြင်း၊ ထိန်းချုပ်ခြင်းနှင့် တားဆီးခြင်းတို့ ပြုလုပ်နိုင်သောကြောင့် ဖြစ်ပါသည်။

ပတ်ဝန်းကျင်အတွင်း တိုက်ခိုက်မှု vector များ ထိန်းချုပ်ခြင်းသည် အရေးကြီးပါသည်။ သို့သော် cloud ပတ်ဝန်းကျင်တွင် ထိရောက်စေရန် ရိုးရာ ချဉ်းကပ်မှုများသည် မလုံလောက်ကြောင်း သက်သေပြနိုင်ပြီး လုံခြုံရေး အဖွဲ့အစည်းများသည် ၎င်းတို့၏ နည်းလမ်းများကို တိုးတက်ပြောင်းလဲရန် လိုအပ်နိုင်ပါသည်။

ရိုးရာ အပိုင်းခွဲခြင်း နည်းလမ်းများသည် လုပ်ငန်း အသုံးပြုမှု အခြေအနေများနှင့် အသုံးချပရိုဂရမ် လုပ်ငန်းတာဝန်များကို ဖြည့်ဆည်းရန် အာရုံစိုက်၍ ဒီဇိုင်းထုတ်ထားခြင်း မရှိသောကြောင့် ၎င်းတို့၏ ရည်မှန်းချက်များနှင့် မကိုက်ညီပါ။ မကြာခဏဆိုသလို ၎င်းသည် ကျယ်ပြန့်သော firewall ခြွင်းချက်များ လိုအပ်သော အလွန်ရှုပ်ထွေးမှုများ ဖြစ်ပေါ်စေပါသည်။

ပေါ်ထွက်လာသော အကောင်းဆုံး လက်တွေ့ အကြံပြုချက်မှာ အသုံးပြုသူ၊ စက်ပစ္စည်းနှင့် အသုံးချပရိုဂရမ် အထောက်အထားများအပေါ် အခြေခံ၍ Zero Trust မဟာဗျူဟာကို လက်ခံရန် ဖြစ်ပါသည်။ အရင်းအမြစ်နှင့် ဦးတည်ရာ IP လိပ်စာများ၊ protocol များနှင့် port နံပါတ်များကဲ့သို့သော အစိတ်အပိုင်းများအပေါ် အခြေခံသည့် ကွန်ရက် ဝင်ရောက်ထိန်းချုပ်မှုများနှင့် ဆန့်ကျင်ဘက်အနေဖြင့် Zero Trust သည် ဝင်ရောက်ချိန်တွင် ဝင်ရောက်ထိန်းချုပ်မှုကို အတည်ပြုပြီး အတည်ပြုပါသည်။ ဦးတည်ရာ အရင်းအမြစ်သာ လိုအပ်သော ဝင်ရောက်ထိန်းချုပ်မှုများကို ပေးဆောင်ရန် လိုအပ်ပါသည်။ ဆိုလိုသည်မှာ ဖြန့်ကျက်မှု၊ ကွန်ရက် သို့မဟုတ် subnet တစ်ခုလုံးအတွက် ခန့်မှန်းဂိမ်းကို ကစားရန် မလိုအပ်ခြင်းကို ရှောင်ရှားနိုင်ပါသည်။

ရိုးရာ ကွန်ရက် ဝင်ရောက်ထိန်းချုပ်မှုများနှင့် မတူဘဲ Zero Trust သည် ဝင်ရောက်ချိန်တွင် ဝင်ရောက်ထိန်းချုပ်မှုကို အတည်ပြုပါသည်။ ထည့်သွင်းစဉ်းစားရန် အဓိက အစိတ်အပိုင်းအချို့မှာ အောက်ပါအတိုင်း ဖြစ်ပါသည်။
Azure Network Security Groups များကို Azure Virtual Networks များ၊ ၎င်းတို့၏ subnet များ နှင့် အင်တာနက်ကြား အခြေခံ layer ၃ နှင့် ၄ ဝင်ရောက်ထိန်းချုပ်မှုများအတွက် အသုံးပြုနိုင်ပါသည်။
Azure Web Application Firewall နှင့် Azure Firewall များကို application layer ပံ့ပိုးမှု လိုအပ်သော ပိုမိုအဆင့်မြင့်သော ကွန်ရက် ဝင်ရောက်ထိန်းချုပ်မှုများအတွက် အသုံးပြုနိုင်ပါသည်။
Local Admin Password Solution (LAPS) သို့မဟုတ် third-party Privileged Access Management သည် ခိုင်မာသော ဒေသဆိုင်ရာ စီမံခန့်ခွဲသူ စကားဝှက်များနှင့် ၎င်းတို့သို့ အချိန်နှင့်တပြေးညီ ဝင်ရောက်ခွင့်ကို သတ်မှတ်နိုင်သည်။

## ကွန်ရက် အပိုင်းခွဲခြင်း အကောင်အထည်ဖော်ခြင်း (Implementing network segmentation)

အဖွဲ့အစည်းများသည် ကွန်ရက် အပိုင်းခွဲခြင်းကို အောက်ပါတို့ဖြင့် အကောင်အထည်ဖော်နိုင်ပါသည်။
၎င်းတို့၏ ကွန်ရက်ခြေရာတွင် ဆော့ဖ်ဝဲလ်-သတ်မှတ်ထားသော နယ်နိမိတ်များကို ဖန်တီးခြင်းနှင့် ၎င်းတို့ကြား လုံခြုံသော ဆက်သွယ်ရေး လမ်းကြောင်းများ ဖန်တီးခြင်း။
ပြီးပြည့်စုံသော Zero Trust အပိုင်းခွဲခြင်း မဟာဗျူဟာကို တည်ဆောက်ခြင်း။
ရိုးရာ အသုံးချပရိုဂရမ်များအတွက် အသေးစား အပိုင်းခွဲခြင်း မဟာဗျူဟာများတွင် လုပ်ငန်းအတွင်း နည်းပညာအဖွဲ့များကို ညှိနှိုင်းခြင်း။
သီးသန့် လိပ်စာနေရာများတွင် Azure Virtual Networks (VNets) များ ဖန်တီးခြင်း။ မူလအားဖြင့် မည်သည့် VNet နှစ်ခုကြားတွင်မဆို အသွားအလာကို ခွင့်မပြုပါ။ တကယ်လိုအပ်သည့်အခါမှသာ ပွင့်လင်းသော လမ်းကြောင်းများကို အသုံးပြုပါသည်။
VNet အတွင်းရှိ အရင်းအမြစ်များကြား လုံခြုံသော ဆက်သွယ်ရေးအတွက် ကွန်ရက် လုံခြုံရေး အုပ်စုများ (NSG) ကို အသုံးပြုခြင်း။
လုပ်ငန်းတာဝန်ကို လုပ်ဆောင်သည့် အခြေခံ VMs များအတွက် အသွားအလာ စည်းမျဉ်းများကို သတ်မှတ်ရန် application လုံခြုံရေး အုပ်စုများ (ASG) ကို အသုံးပြုခြင်း။
cloud အရင်းအမြစ်များ၊ အင်တာနက်နှင့် on-premises ကြား စီးဆင်းသော အသွားအလာကို စစ်ထုတ်ရန် Azure Firewall ကို အသုံးပြုခြင်း။
ဒေသများစွာတွင် လုပ်ဆောင်ရန် မလိုအပ်ပါက အရင်းအမြစ်များကို single VNet တွင် ထားရှိခြင်း။
ဒေသများစွာအတွက် peering မှတဆင့် ချိတ်ဆက်ထားသော VNets များစွာကို အကောင်အထည်ဖော်ခြင်း။
အဆင့်မြင့် ဖွဲ့စည်းပုံများအတွက် hub-spoke topology ကို အသုံးပြုခြင်း။ သီးခြား ဒေသတစ်ခုတွင် VNet တစ်ခုကို ထိုဒေသအတွင်းရှိ spokes ဟုခေါ်သော အခြား VNets အားလုံးကို ချိတ်ဆက်ပေးသည့် ဗဟို hub အဖြစ် သတ်မှတ်ပါသည်။

## အပိုင်းခွဲခြင်း ပုံစံများ (Segmentation patterns)

ယခု ကွန်ရက်ရှုထောင့်မှ Azure တွင် လုပ်ငန်းတာဝန်တစ်ခုကို အပိုင်းခွဲရန်အတွက် အသုံးများသော ပုံစံအချို့ကို စူးစမ်းလေ့လာကြပါစို့။ ပုံစံတစ်ခုစီသည် မတူညီသော သီးခြားခွဲထုတ်ခြင်းနှင့် ချိတ်ဆက်မှု အမျိုးအစားကို ပေးပါသည်။ သင်၏ အဖွဲ့အစည်း၏ လိုအပ်ချက်များအပေါ် အခြေခံ၍ ပုံစံတစ်ခုကို ရွေးချယ်သင့်ပါသည်။

## ပုံစံ ၁- Single VNet (Pattern 1: Single VNet)

လုပ်ငန်းတာဝန်၏ အစိတ်အပိုင်းများအားလုံးသည် single VNet တစ်ခုတွင် တည်ရှိပါသည်။ VNet သည် ဒေသများစွာကို ဖြန့်ကျက်၍ မရသောကြောင့် single ဒေသတစ်ခုတွင် လုပ်ဆောင်နေပါက ဤပုံစံသည် သင့်လျော်ပါသည်။

Subnet များ သို့မဟုတ် application အုပ်စုများကဲ့သို့သော အပိုင်းများကို လုံခြုံစေရန် အသုံးများသော နည်းလမ်းများမှာ NSGs များနှင့် ASGs များကို အသုံးပြုခြင်း ဖြစ်ပါသည်။ Azure Marketplace သို့မဟုတ် Azure Firewall မှ Network Virtualized Appliance (NVAs) ကိုလည်း ဤအပိုင်းခွဲခြင်းကို အတည်ပြုပြီး လုံခြုံစေရန် အသုံးပြုနိုင်ပါသည်။

ဤပုံတွင် Subnet1 တွင် database လုပ်ငန်းတာဝန် ရှိပါသည်။ Subnet2 တွင် web လုပ်ငန်းတာဝန်များ ရှိပါသည်။ Subnet1 သည် Subnet2 နှင့်သာ ဆက်သွယ်နိုင်ပြီး Subnet2 သည် အင်တာနက်နှင့်သာ ဆက်သွယ်နိုင်သော NSGs များကို သင် ဖွဲ့စည်းနိုင်ပါသည်။

<img src="https://d3c33hcgiwev3.cloudfront.net/imageAssetProxy.v1/Efvki7KlTYCnbT1wl9lopw_5489eec771ec4bb49994b11a3ec315e1_image.png?expiry=1744156800000&hmac=CSDLrrdfF7_onl90byDqjaYyC4Qe7pxm6JOgH4gkqx0">

သီးခြား subnet များတွင် ထားရှိသော လုပ်ငန်းတာဝန်များစွာ ရှိသည့် အသုံးပြုမှု အခြေအနေကို ထည့်သွင်းစဉ်းစားပါ။ လုပ်ငန်းတာဝန်တစ်ခုသည် အခြားလုပ်ငန်းတာဝန်တစ်ခု၏ backend သို့ ဆက်သွယ်နိုင်သော ထိန်းချုပ်မှုများကို သင် ထားရှိနိုင်ပါသည်။

## ပုံစံ ၂- Peering မှတဆင့် ဆက်သွယ်သော VNets များစွာ (Pattern 2: Multiple VNets that communicate through peering)

Peering မှတဆင့် ဆက်သွယ်နိုင်သော VNets များစွာတွင် ဖြန့်ကျက်ထားသော သို့မဟုတ် ပုံတူကူးထားသော အရင်းအမြစ်များ ရှိသည့်အခါ ပုံစံ ၂ သက်ရောက်ပါသည်။ application များကို သီးခြား VNets များထဲသို့ စုစည်းရန် လိုအပ်ပါက သို့မဟုတ် Azure ဒေသများစွာ လိုအပ်ပါက ဤပုံစံသည် သင့်လျော်ပါသည်။

အကျိုးကျေးဇူးတစ်ခုမှာ သင်သည် VNet တစ်ခုကို အခြားတစ်ခုနှင့် ရှင်းရှင်းလင်းလင်း peering ပြုလုပ်ရသောကြောင့် တည်ဆောက်ထားသော အပိုင်းခွဲခြင်း ဖြစ်ပါသည်။ virtual ကွန်ရက် peering သည် transitive မဟုတ်ပါ။ ပုံစံ ၁ တွင် ဖော်ပြထားသည့်အတိုင်း NSGs များနှင့် ASGs များကို အသုံးပြု၍ VNet အတွင်း ပိုမို အပိုင်းခွဲနိုင်ပါသည်။

<img src="https://d3c33hcgiwev3.cloudfront.net/imageAssetProxy.v1/p2P7a57iQYuBh1kXGSdjrw_3cb19c6fe93544c39870e4c4ad899ee1_image.png?expiry=1744156800000&hmac=H1aWk1hwTyTwT-XDKLFrpK36YRqT0xjs0lKyghhL1JM">

## ပုံစံ ၃- Hub နှင့် Spoke မော်ဒယ်ရှိ VNets များစွာ (Pattern 3: Multiple VNets in a hub and spoke model)

ဤပုံစံသည် သီးခြား ဒေသတစ်ခုတွင် Vnet တစ်ခုကို ထိုဒေသရှိ spokes ဖြစ်သော အခြား Vnets အားလုံးအတွက် hub အဖြစ် သတ်မှတ်သည့်အခါ သက်ရောက်ပါသည်။ hub နှင့် ၎င်း၏ spokes များကို peering မှတဆင့် ချိတ်ဆက်ထားပါသည်။ အခြားဒေသများရှိ အခြား hubs များသို့ gateway အဖြစ် လုပ်ဆောင်နိုင်သော hub မှတဆင့် အသွားအလာအားလုံး ဖြတ်သန်းပါသည်။

ဤပုံစံတွင် လုံခြုံရေး ထိန်းချုပ်မှုများကို hubs များတွင် တည်ဆောက်ထားသောကြောင့် ၎င်းတို့သည် အခြား VNets များကြား အသွားအလာကို စကေးချဲ့နိုင်သော နည်းလမ်းဖြင့် အပိုင်းခွဲပြီး အုပ်ချုပ်နိုင်ပါသည်။ ဤပုံစံ၏ အကျိုးကျေးဇူးတစ်ခုမှာ သင်၏ ကွန်ရက် topology တိုးလာသည်နှင့်အမျှ လုံခြုံရေး အနေအထား ဝန်ထုပ်ဝန်ပိုး မတိုးလာခြင်း (ဒေသအသစ်များသို့ ချဲ့ထွင်သည့်အခါမှလွဲ၍) ဖြစ်ပါသည်။

<img src="https://d3c33hcgiwev3.cloudfront.net/imageAssetProxy.v1/iB8P_I2JQyyDstkT33Sl6A_47e79aece9484ec982e69715c13ce5e1_hub-and-spoke.png?expiry=1744156800000&hmac=cq9jWR11y6noHwXpDBaSKylqdkZ3uaFhTBA06yd-ScQ">

အကြံပြုထားသော မူရင်း ရွေးချယ်မှုမှာ Azure Firewall ဖြစ်ပါသည်။ ဤရွေးချယ်မှုသည် layer ၃ မှ layer ၇ ထိန်းချုပ်မှုများကို အသုံးပြု၍ အသွားအလာ စီးဆင်းမှုများကို အုပ်ချုပ်ရန် VNets များနှင့် subscriptions နှစ်ခုလုံးတွင် လုပ်ဆောင်ပါသည်။

layer ထိန်းချုပ်မှုများအကြောင်း သင်၏ မှတ်ဉာဏ်ကို ပြန်လည်ဆန်းသစ်ရန်အတွက် ယခင် သင်တန်းမှ ဗီဒီယို What is the OSI model ကို ပြန်လည်သုံးသပ်ပါ။

သင်၏ ဆက်သွယ်ရေး စည်းမျဉ်းများကို သတ်မှတ်ပြီး ၎င်းတို့ကို တသမတ်တည်း အသုံးပြုနိုင်ပါသည်။ ဥပမာအချို့မှာ အောက်ပါအတိုင်း ဖြစ်ပါသည်။
VNet 1 သည် VNet 2 နှင့် ဆက်သွယ်၍ မရသော်လည်း VNet 3 နှင့် ဆက်သွယ်နိုင်ပါသည်။
VNet 1 သည် \*.github.com မှလွဲ၍ အများပြည်သူ အင်တာနက်ကို ဝင်ရောက်၍ မရပါ။

Azure Firewall Manager ဖြင့် Azure Firewalls များစွာတွင် မူဝါဒများကို ဗဟိုမှ စီမံခန့်ခွဲနိုင်ပြီး DevOps အဖွဲ့များကို ဒေသဆိုင်ရာ မူဝါဒများကို ပိုမိုစိတ်ကြိုက်ပြင်ဆင်နိုင်စေပါသည်။

## နိဂုံး (Conclusion)

ကွန်ရက် အပိုင်းခွဲခြင်းသည် အဖွဲ့အစည်း၏ Azure ခြေရာအတွင်း ကွန်ရက် လုံခြုံရေးကို မြှင့်တင်ရန်နှင့် ကွန်ရက် အသွားအလာ စီးဆင်းမှုကို အကောင်းဆုံးဖြစ်အောင် ပြုလုပ်ရန်အတွက် အရေးကြီးသော မဟာဗျူဟာ ဖြစ်ပါသည်။ ထိရောက်သော အပိုင်းခွဲခြင်းကို အကောင်အထည်ဖော်ခြင်းဖြင့် အဖွဲ့အစည်းများသည် ဆက်စပ် ပိုင်ဆိုင်မှုများကို စုစည်းနိုင်ခြင်း၊ အရင်းအမြစ်များကို သီးခြားခွဲထုတ်နိုင်ခြင်းနှင့် အုပ်ချုပ်မှု မူဝါဒများကို လိုက်နာနိုင်ခြင်း အပါအဝင် အကျိုးကျေးဇူးများစွာကို ရရှိနိုင်ပါသည်။
