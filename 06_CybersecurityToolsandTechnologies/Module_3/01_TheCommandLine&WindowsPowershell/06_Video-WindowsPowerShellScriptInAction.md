# Windows PowerShell Script in action

[Windows PowerShell Script in action 🔗](https://www.coursera.org/learn/cybersecurity-tools-and-technologies/lecture/gOsuj/windows-powershell-script-in-action)

# Windows PowerShell Script လက်တွေ့အသုံးပြုခြင်း

## နိဒ္ဒါန်း (Introduction)

အဖွဲ့အစည်းများသည် ၎င်းတို့၏ အခြေခံအဆောက်အအုံများကို Microsoft Azure ကဲ့သို့သော ပလက်ဖောင်းများသို့ တိုး၍ ပြောင်းရွှေ့နေကြသည်။ သို့သော် Cloud ရှုခင်းသည် ကျယ်ပြန့်လာသည်နှင့်အမျှ ဖြစ်နိုင်ချေရှိသော တိုက်ခိုက်မှုမျက်နှာပြင်များလည်း တိုးပွားလာသည်။ ထိုးဖောက်စမ်းသပ်သူများသည် Azure ပတ်ဝန်းကျင်ရှိ ဤအားနည်းချက်များကို ခွဲခြားသတ်မှတ်ရာတွင် အရေးပါသော အခန်းကဏ္ဍမှ ပါဝင်သည်။ သင်မှတ်မိနိုင်သည့်အတိုင်း PowerShell သည် Windows ပတ်ဝန်းကျင်တွင် အလိုအလျောက်လုပ်ဆောင်ခြင်းနှင့် စီမံခန့်ခွဲမှုဆိုင်ရာလုပ်ငန်းများအတွက် အများအားဖြင့်အသုံးပြုသော scripting ဘာသာစကားတစ်ခုဖြစ်သည်။ Azure Command Line Interface သို့မဟုတ် Azure CLI သည် Microsoft Azure ရှိ အရင်းအမြစ်များကို စီမံခန့်ခွဲရန်အတွက် အသုံးပြုသော command များအစုတစ်ခုဖြစ်သည်။ Microsoft သည် PowerShell ကို ခိုင်မာပြီး ဘက်စုံသုံးနိုင်သော command line shell တစ်ခုအဖြစ် scripting ဘာသာစကားဖြင့် တီထွင်ခဲ့သည်။ PowerShell သည် လုပ်ငန်းများကို ဖန်တီးခြင်း၊ လုပ်ဆောင်ခြင်းနှင့် အလိုအလျောက်လုပ်ဆောင်ခြင်းအတွက် ပြည့်စုံသော ဘောင်တစ်ခုကို ပေးပါသည်။ Windows ဂေဟစနစ်အတွင်း လုပ်ဆောင်မှုလုပ်ငန်းစဉ်များကို လွယ်ကူချောမွေ့စေပြီး ထုတ်လုပ်မှုကို မြှင့်တင်လိုသော သုံးစွဲသူများ သို့မဟုတ် စီမံခန့်ခွဲသူများအတွက် မရှိမဖြစ်လိုအပ်သော ကိရိယာတစ်ခုဖြစ်သည်။ ဤဗီဒီယိုတွင် ထိုးဖောက်စမ်းသပ်သူများသည် Azure တပ်ဆင်မှုများကို ထိရောက်စွာ အကဲဖြတ်ရန်နှင့် လုံခြုံစေရန်အတွက် ကျွမ်းကျင်ထားသင့်သည့် ဤအခြေခံ Azure CLI ကိရိယာများကို လေ့လာပါမည်။ အရင်းအမြစ်အုပ်စုနှင့် virtual machine တစ်ခုဖန်တီးခြင်းအပါအဝင် CLI ၏ လက်တွေ့သရုပ်ပြမှုကိုလည်း သင်ရရှိမည်ဖြစ်ပြီး စီမံခန့်ခွဲမှုဆိုင်ရာလုပ်ငန်းများစွာကို သင်ရှာဖွေတွေ့ရှိလိမ့်မည်။

စမ်းသပ်သူများအသုံးပြုသော ကိရိယာအမျိုးမျိုးကို လေ့လာခြင်းဖြင့် စတင်ကြပါစို့။ ပထမဦးစွာ Azure CLI သည် ထိုးဖောက်စမ်းသပ်သူများအား Azure အရင်းအမြစ်များကို စီမံခန့်ခွဲရန် ခွင့်ပြုသည့် cross-platform command line ကိရိယာတစ်ခုဖြစ်သည်။ ၎င်းသည် Azure ဝန်ဆောင်မှုများကို ပေးဝေခြင်း၊ စီမံခန့်ခွဲခြင်းနှင့် စောင့်ကြည့်ခြင်းအတွက် ကျယ်ပြန့်သော command များစွာကို ပေးပါသည်။ Pen testers များသည် virtual machines များ၊ resource groups များ၊ storage accounts များ၊ blob containers များဖန်တီးရန်၊ သိုလှောင်မှုကို စီမံခန့်ခွဲရန်၊ ကွန်ရက်ချိတ်ဆက်မှုကို ဖွဲ့စည်းရန်နှင့် အခြားအရာများအတွက် Azure CLI ကို အသုံးပြုနိုင်သည်။ ဥပမာအားဖြင့် Az-VM create command သည် virtual machine တစ်ခုကို တပ်ဆင်နိုင်သည်။ Azure CLI ကို ကျွမ်းကျင်ခြင်းဖြင့် ထိုးဖောက်စမ်းသပ်သူများသည် လက်တွေ့ကမ္ဘာ တိုက်ခိုက်မှုအခြေအနေများကို အတုယူကာ Azure အရင်းအမြစ်များနှင့် တိုက်ရိုက်အပြန်အလှန်တုံ့ပြန်နိုင်သည့် စွမ်းရည်ကို ရရှိသည်။

နောက်တစ်ခုမှာ သင်ယခင်က ရှာဖွေတွေ့ရှိခဲ့သည့်အတိုင်း ထိုးဖောက်စမ်းသပ်သူများအတွက် အခြားတန်ဖိုးရှိသော ကိရိယာတစ်ခုဖြစ်သည့် Azure PowerShell ဖြစ်သည်။ Windows PowerShell ကို အခြေခံထားပြီး Azure အရင်းအမြစ်စီမံခန့်ခွဲမှုအတွက် အထူးဒီဇိုင်းထုတ်ထားသော command let များ၏ ပြည့်စုံသော အစုအဝေးကို ပေးပါသည်။ ထိုးဖောက်စမ်းသပ်သူများသည် Azure Active Directory သုံးစွဲသူများကို ဖန်တီးခြင်းနှင့် စီမံခန့်ခွဲခြင်း၊ Azure Key Vault ကို ဖွဲ့စည်းခြင်းနှင့် Azure Resource Manager templates များကို ကိုင်တွယ်ခြင်းကဲ့သို့သော လုပ်ငန်းများကို လုပ်ဆောင်ရန် Azure PowerShell ကို အသုံးပြုနိုင်သည်။ Azure PowerShell ကို အသုံးပြုခြင်းဖြင့် စမ်းသပ်သူများသည် ရှုပ်ထွေးသော လုပ်ငန်းများကို အလိုအလျောက်လုပ်ဆောင်နိုင်ပြီး Azure ပတ်ဝန်းကျင်တွင် အသေးစိတ်အကဲဖြတ်မှုများကို လုပ်ဆောင်နိုင်ပြီး ထိုးဖောက်စမ်းသပ်မှုလုပ်ငန်းများအတွင်း ထိရောက်မှုကို မြှင့်တင်နိုင်သည်။

Azure Resource Graph Explorer သည် ထိုးဖောက်စမ်းသပ်သူများအား Azure အရင်းအမြစ်ရှုခင်းတစ်ခုလုံးကို စုံစမ်းမေးမြန်းရန်နှင့် ခွဲခြမ်းစိတ်ဖြာရန် ခွင့်ပြုသည့် မရှိမဖြစ်လိုအပ်သော အခြား CLI ကိရိယာတစ်ခုဖြစ်သည်။ ၎င်းသည် ထိတွေ့ခံရသော သိုလှောင်မှုအကောင့်များ သို့မဟုတ် အလွန်ခွင့်ပြုထားသော ကွန်ရက်လုံခြုံရေးအုပ်စုများကဲ့သို့သော ဖြစ်နိုင်ချေရှိသော မှားယွင်းသော ဖွဲ့စည်းမှုများကို ခွဲခြားသတ်မှတ်ရာတွင် ကူညီပေးသည်။ Azure Resource Graph Explorer သည် ထိုးဖောက်စမ်းသပ်သူများအား ပိုမိုပြည့်စုံသော အကဲဖြတ်မှုအတွက် Azure ပတ်ဝန်းကျင်၏ ဘက်ပေါင်းစုံမြင်ကွင်းကို ရရှိစေရန် ကူညီပေးသည်။

နောက်တစ်ခုမှာ ယခုအခါ အထောက်အထားနှင့် ဝင်ရောက်ခွင့် အကဲဖြတ်မှုများကို အာရုံစိုက်သော ထိုးဖောက်စမ်းသပ်သူများအတွက် အရေးပါသော ကိရိယာတစ်ခုဖြစ်သည့် Azure Active Directory PowerShell module ဖြစ်သည်။ ၎င်းသည် သုံးစွဲသူအကောင့်များ၊ အခန်းကဏ္ဍများ၊ အုပ်စုများနှင့် စစ်မှန်ကြောင်းအထောက်အထားမူဝါဒများကို စစ်ဆေးရန် စမ်းသပ်သူများအား ခွင့်ပြုခြင်းဖြင့် Azure Active Directory ကို စီမံခန့်ခွဲရန် သင့်အား ခွင့်ပြုသည်။ Pen testers များသည် အထူးအခွင့်အရေး တိုးမြှင့်ခြင်း၊ အားနည်းသော စကားဝှက်မူဝါဒများနှင့် ခွင့်ပြုချက်မရှိဘဲ ဝင်ရောက်ခြင်းတို့ပါဝင်သော တိုက်ခိုက်မှုများကို အတုယူရန် ဤကိရိယာကို အသုံးပြုနိုင်သည်။ Azure Active Directory PowerShell မည်သို့လုပ်ဆောင်သည်ကို နားလည်ခြင်းဖြင့် စမ်းသပ်သူများသည် cloud လုံခြုံရေး၏ အရေးပါသော ကဏ္ဍဖြစ်သော အထောက်အထားနှင့် ဝင်ရောက်ခွင့် စီမံခန့်ခွဲမှုဆိုင်ရာ အားနည်းချက်များကို ဖော်ထုတ်နိုင်သည်။

ယခုသင်သည် Azure တပ်ဆင်မှုများကို ထိရောက်စွာ အကဲဖြတ်ရန်နှင့် လုံခြုံစေရန်အတွက် ထိုးဖောက်စမ်းသပ်သူများအသုံးပြုသော Azure CLI ကိရိယာအမျိုးမျိုးကို လေ့လာပြီးပြီဖြစ်သောကြောင့် Azure CLI console ကို အသုံးပြု၍ PowerShell scripts အချို့ကို အသုံးပြုပုံကို သရုပ်ပြကြပါစို့။

Azure ပတ်ဝန်းကျင်သို့ ချိတ်ဆက်ခြင်းဖြင့် စတင်ကြပါစို့။ ၎င်းကိုလုပ်ဆောင်ရန် command line syntax `az login` ကို ရိုက်ထည့်ပါ။ "Enter" ကိုနှိပ်သောအခါ သင်သည် Microsoft admin အထောက်အထားများကို ထည့်သွင်း၍ လက်မှတ်ထိုးဝင်ရန် ဝဘ်ဘရောက်ဆာတစ်ခုသို့ ပြန်ညွှန်းခံရမည်ဖြစ်သည်။ သင်ဝင်ရောက်ပြီးသည်နှင့် ဘရောက်ဆာကိုပိတ်ပြီး PowerShell console သို့ ပြန်သွားနိုင်သည်။ console သို့ပြန်ရောက်သောအခါ သင်၏အသေးစိတ်အချက်အလက်များကို မျက်နှာပြင်ပေါ်တွင် ပြသလိမ့်မည်။

ယခု သင့်အကောင့်တွင်ရှိသော Azure subscriptions များစာရင်းကို ရယူကြပါစို့။ ၎င်းကိုလုပ်ဆောင်ရန် syntax `az account list` ကိုအသုံးပြုပြီး `--output table` ကိုရိုက်ထည့်ပါ။ ထပ်မံ၍ "Enter" ကိုနှိပ်ရုံသာဖြစ်သည်။ သင်၏ပတ်ဝန်းကျင်အတွင်းရှိ Azure subscriptions အားလုံး၏အသေးစိတ်အချက်အလက်များကို ပြသထားပြီး subscription ID၊ tenant ID နှင့် Azure subscription ၏အခြေအနေတို့ပါဝင်သည်။

နောက်တစ်ခုအနေဖြင့် Azure command line ကို အသုံးပြု၍ resource group တစ်ခု ဖန်တီးကြပါစို့။ resource group တစ်ခုဖန်တီးရန် syntax မှာ `az group create` ဖြစ်ပြီး ထပ်မံ၍ `--name` ကိုရိုက်ထည့်ပါ။ ယခု သင်၏ resource group အမည်ကို ထည့်ရန် quotation တစ်ခုဖွင့်ရန် လိုအပ်ပါသည်။ ဤအခြေအနေအတွက် resource group အမည် `samsscooprg` ကို အသုံးပြုကြပါစို့။ ဤနေရာတွင် `rg` သည် resource group ကို ကိုယ်စားပြုသည်။ ယခု quotation ကိုပိတ်ပါ။ နောက်တစ်ခုအနေဖြင့် သင်၏ resource group အတွက် ဒေသကို ပေးရန် လိုအပ်ပါသည်။ East US ကိုအသုံးပြုပြီး quotation marks များအတွင်း ထည့်ကြပါစို့။ ကောင်းပြီ၊ ယခု သင်သည် resource group ဖန်တီးရန်အတွက် အသေးစိတ်အချက်အလက်အားလုံးကို ထည့်သွင်းပြီးဖြစ်သည်။ သင်၏ကီးဘုတ်ပေါ်ရှိ "Enter" ကိုနှိပ်ရုံဖြင့် စက္ကန့်အနည်းငယ်အတွင်း သင်၏ resource group ကို ဖန်တီးလိမ့်မည်။ provisioning state သည် အောင်မြင်ကြောင်း သင်သတိပြုမိလိမ့်မည်။

ယခု command line syntax `az storage account` ကိုအသုံးပြု၍ storage account တစ်ခု ဖန်တီးကြပါစို့၊ ထို့နောက် "Create" ကိုထည့်ပါ။ သင်သည် name variable ကိုလည်း ဖော်ပြရန် လိုအပ်ပါသည်။ အစောပိုင်းကကဲ့သို့ `--name` ကိုထည့်ပါ၊ ထို့နောက် quotation ကိုဖွင့်ပြီး သင်၏ storage account ၏အမည်ကို ထည့်ပါ။ ဤအခြေအနေအတွက် ၎င်းကို `samsscoopstoragelocation` ဟုခေါ်ကြပါစို့။ ယခု သင်၏ quotation ကို ရိုးရိုးရှင်းရှင်းပိတ်ပါ။ နောက်တစ်ခုအနေဖြင့် သင်၏ resource group variable လိုအပ်ပါသည်။ ဤကိစ္စတွင် သင်၏ quotation များအတွင်း၌ သင်အစောပိုင်းကဖန်တီးခဲ့သော resource group အမည် `samsscooprg` ကိုထည့်ပါ၊ ထို့နောက် တည်နေရာကိုထည့်ပါ၊ ၎င်းသည် East US ဖြစ်သည်။ နောက်ဆုံးအဆင့်မှာ SKU အသေးစိတ်အချက်အလက်များကို အတည်ပြုရန်ဖြစ်သည်။ ထပ်မံ၍ `--` ကိုထည့်ပြီး quotation marks များအတွင်း `standard_LRS` ကိုရိုက်ထည့်ပါ။ storage account တစ်ခုဖန်တီးရန် လိုအပ်သော အချက်အလက်အားလုံးကို ယခုထည့်သွင်းပြီးဖြစ်သည်။ ထည့်သွင်းထားသော အချက်အလက်များသည် မှန်ကန်ကြောင်း သင်အတည်ပြုပြီးသည်နှင့် "Enter" ကိုနှိပ်ရုံသာဖြစ်သည်။ ဖန်တီးမှုသည် စက္ကန့်အနည်းငယ်အတွင်း ပြီးစီးသင့်သည်။

Azure CLI ကိုအသုံးပြုသည့်အခါ resource group အမည်များ၊ subscription အမည်များ သို့မဟုတ် IDs များ၊ အကောင့်အမည်များနှင့် စကားဝှက်များကဲ့သို့သော နေရာတန်ဖိုးများအားလုံးကို သင်၏ကိုယ်ပိုင်တန်ဖိုးများဖြင့် အစားထိုးသင့်သည်။ ဤ command များကို မလုပ်ဆောင်မီ Azure CLI ကို ထည့်သွင်းပြီး လက်မှတ်ထိုးဝင်ထားကြောင်းလည်း သေချာစေရန် လိုအပ်သည်။ မဟုတ်ပါက Cloud Shell ကို အသုံးပြုနိုင်သည်။

ဤဗီဒီယိုတွင် သင်သည် Azure နယ်ပယ်အတွင်း စီမံခန့်ခွဲမှုဆိုင်ရာလုပ်ငန်းများကို လုပ်ဆောင်ရန်အတွက် ထိုးဖောက်စမ်းသပ်သူတစ်ဦး အသုံးပြုနိုင်သည့် မတူညီသော command line ကိရိယာများကို နားလည်သဘောပေါက်ခဲ့သည်။ Azure CLI အတွင်း လုပ်ငန်းအမျိုးမျိုးကို လုပ်ဆောင်ရန်အတွက် အသုံးပြုနိုင်သော command အချို့ကို ပြီးမြောက်အောင် လုပ်ဆောင်ခြင်းဖြင့် Azure CLI ကို အသုံးပြုပုံကိုလည်း သင်လေ့လာခဲ့သည်။ သင်ထည့်သွင်းထားသော modules များနှင့် သင့်ကိုယ်ပိုင်စနစ်၏ ဖွဲ့စည်းမှုပေါ်မူတည်၍ PowerShell ၏ command စာရင်းသည် ကွဲပြားနိုင်သည်ကို မှတ်သားထားရန် အရေးကြီးပါသည်။
