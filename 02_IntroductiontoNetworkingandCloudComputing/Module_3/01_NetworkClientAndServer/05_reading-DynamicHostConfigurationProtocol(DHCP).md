# Dynamic Host Configuration Protocol (DHCP)

[Dynamic Host Configuration Protocol (DHCP) 🔗](https://www.coursera.org/learn/introduction-to-networking-and-Cloud-computing/supplement/cGUE1/dynamic-host-configuration-protocol-dhcp)

# ဒိုင်းနမစ် ဟို့စ် ကွန်ဖီဂျူရေးရှင်း ပရိုတိုကော (DHCP)

## Introduction နိဒါန်း

အခုထိ သင်လေ့လာခဲ့တာက **ကလိုင်းယင့်-ဆာဗာ ကွန်ရက် မော်ဒယ်** (client-server network model) မှာ ကလိုင်းယင့်တွေနဲ့ ဆာဗာဟာ သတင်းအချက်အလက်နဲ့ ဝန်ဆောင်မှုတွေ ဖလှယ်ဖို့ တစ်ယောက်နဲ့တစ်ယောက် ဆက်သွယ်ကြတယ်ဆိုတာပါ။ ဒါပေမယ့် ကွန်ရက်ပေါ်မှာ ကိရိယာတွေ ဆက်သွယ်ဖို့ဆိုရင် ကိရိယာတွေမှာ IP လိပ်စာ ကွန်ဖီဂျူရေးရှင်း (IP address configuration) လိုအပ်တယ်ဆိုတာကိုလည်း သင်လေ့လာခဲ့ပါတယ်။ ဒါကြောင့် ကလိုင်းယင့်-ဆာဗာ ကွန်ရက်တွေဟာ IP လိပ်စာ သတ်မှတ်ပေးမှု (IP address assignment) မပါဘဲ ဖြစ်မလာနိုင်ပါဘူး။ ဒါက ဒီစာဖတ်ခြင်းရဲ့ အာရုံစိုက်ရာပါ။

သတိရပါ၊ ကွန်ရက်ပေါ်မှာ ကိရိယာတွေကို လိပ်စာပေးတာ (addressed) နည်းလမ်း နှစ်မျိုး ရှိပါတယ် - **စတက်တစ်** (static) ဒါမှမဟုတ် **ဒိုင်းနမစ်** (dynamic) IP လိပ်စာ သတ်မှတ်ပေးမှုပါ။ စတက်တစ် ကွန်ဖီဂျူရေးရှင်းက ကွန်ရက် ကိရိယာတွေပေါ်မှာ IPv4 ကွန်ဖီဂျူရေးရှင်းကို လက်ဖြင့် (manually) တည်ဆောက်ဖို့ (set up) လိုအပ်ပါတယ်။ အခြားတစ်ဖက်မှာ၊ **ဒိုင်းနမစ် ဟို့စ် ကွန်ဖီဂျူရေးရှင်း ပရိုတိုကော** (Dynamic Host Configuration Protocol - DHCP) က ကွန်ရက်ပေါ်က ကိရိယာတွေဆီ IP လိပ်စာတွေနဲ့ အခြား ကွန်ရက် ကွန်ဖီဂျူရေးရှင်း ဆက်တင်တွေ (network configuration settings) ကို အလိုအလျောက် သတ်မှတ်ပေးပါတယ် (assigns)။

ကလိုင်းယင့်-ဆာဗာ ကွန်ရက်မှာ ဆာဗာတစ်ခု ပါဝင်ပြီးသားဖြစ်တာကြောင့်၊ ၎င်းက စတက်တစ် ကွန်ဖီဂျူရေးရှင်းအစား DHCP ကို အသုံးပြုပါတယ်။ ဒီစာဖတ်ခြင်းမှာ၊ သင်ဟာ လိစ် လုပ်ငန်းစဉ် (lease process) နဲ့ IP လိပ်စာ သက်တမ်းတိုးလုပ်ငန်းစဉ် (IP address renewal process) အရ ကလိုင်းယင့်နဲ့ ဆာဗာအကြား ဆက်သွယ်ရေး လုပ်ငန်းစဉ်ကို စူးစမ်းမှာပါ။

## How Does DHCP Work? DHCP ဘယ်လို အလုပ်လုပ်သလဲ?

ကိရိယာတစ်ခု ကွန်ရက်နဲ့ ချိတ်ဆက်တဲ့အခါ၊ ၎င်းက DHCP ဆာဗာဆီ IP လိပ်စာတစ်ခုအတွက် တောင်းဆိုမှု (request) ပို့ပါတယ်။ DHCP ဆာဗာက အဲဒီ ကိရိယာဆီ ရရှိနိုင်တဲ့ (available) IP လိပ်စာတစ်ခု သတ်မှတ်ပေးပြီး (assigns)၊ အခြား ကွန်ရက် ကွန်ဖီဂျူရေးရှင်း ဆက်တင်တွေ ဥပမာ -

- **ဆပ်နက် မတ်စ်** (Subnet mask)
- **ဒီဖောလ့် ဂိတ်ဝေး** (Default gateway)
- **DNS ဆာဗာ လိပ်စာတွေ** (DNS server addresses)

တို့နဲ့အတူ ပေးဆောင်ပါတယ်။ DHCP က IP လိပ်စာတွေ သတ်မှတ်ပေးဖို့ **လိစ်ဆင်း** (leasing) လို့ ခေါ်တဲ့ လုပ်ငန်းစဉ်တစ်ခု အသုံးပြုပါတယ်။ ကိရိယာတစ်ခုက IP လိပ်စာ လိုအပ်ပြီး DHCP ဆာဗာဆီ တောင်းဆိုမှု ပို့တဲ့အခါ၊ ဆာဗာက ရရှိနိုင်တဲ့ IP လိပ်စာ စုစည်းမှု (pool of IP addresses) ထဲကနေ လိပ်စာတစ်ခု သတ်မှတ်ပေးပါတယ်။ ထပ်မံပြီး၊ ဆာဗာက အဲဒီ IP လိပ်စာအတွက် **လိစ် အချိန်** (lease time) ကို သတ်မှတ်ပေးပါတယ်။ ဒါက ကိရိယာက အဲဒီ IP လိပ်စာကို သက်တမ်းတိုးဖို့ (renewed) မလိုအပ်ခင် အသုံးပြုနိုင်တဲ့ အချိန်ပမာဏပါ။

လိစ် အချိန် သက်တမ်းကုန်တဲ့အခါ (expires)၊ ကိရိယာက IP လိပ်စာကို သက်တမ်းတိုးဖို့ DHCP ဆာဗာဆီကနေ လိစ်အသစ် (new lease) တောင်းဆိုရပါတယ်။ IP လိပ်စာက ရရှိနိုင်နေသေးရင်၊ ဆာဗာက လိစ်ကို သက်တမ်းတိုးပြီး (renews) လိစ် အချိန်ကို တိုးမြှင့်ပေးပါတယ် (extends)။ IP လိပ်စာ မရရှိနိုင်တော့ရင်၊ ဆာဗာက ကိရိယာဆီ IP လိပ်စာအသစ်တစ်ခု သတ်မှတ်ပေးပါတယ်။

DHCP IP သတ်မှတ်ပေးမှု နဲ့ သက်တမ်းတိုးလုပ်ငန်းစဉ်မှာ ပါဝင်တဲ့ အဆင့်တွေကို အသေးစိတ် ပြန်သုံးသပ်ကြည့်ကြပါစို့။

## DHCP IP Assignment Steps DHCP IP သတ်မှတ်ပေးမှု အဆင့်များ

### DHCP Discover

ဒီအဆင့်က ကိရိယာတစ်ခုက “ဟဲလို၊ ငါ့ကို IP လိပ်စာ ပေးနိုင်မယ့် တစ်ယောက်ယောက် အဲဒီမှာ ရှိလား” လို့ အော်ဟစ်နေသလိုပါ။ ကိရိယာက **DHCP Discover** လို့ ခေါ်တဲ့ ဘရော့ဒ်ကတ်စ် မက်ဆေ့ဂျ် (broadcast message) တစ်ခု ပို့ပြီး၊ ဒါက ကွန်ရက်ပေါ်မှာ ရရှိနိုင်တဲ့ DHCP ဆာဗာတွေ ရှာဖွေဖို့ ရည်ရွယ်ပါတယ်။ ဒီမက်ဆေ့ဂျ်မှာ ကိရိယာအကြောင်း အသေးစိတ်အချက်အလက်တချို့ ပါဝင်ပါတယ်။ ဥပမာ၊ ၎င်းရဲ့ **MAC လိပ်စာ** (MAC address) နဲ့ ဟို့စ်နာမည် (hostname) တို့ပါ။ ဒါက ကိရိယာက ကွန်ရက်ဆီ “ဟေး၊ ငါ ဒီမှာ အသစ်ရောက်လာတာ၊ ငါ မှန်မှန်ကန်ကန် အလုပ်လုပ်ဖို့ IP လိပ်စာ လိုတယ်” လို့ မိတ်ဆက်ပြောနေသလိုပါ။ **MAC လိပ်စာ** ဆိုတာ ကွန်ရက်နဲ့ ချိတ်ဆက်တဲ့ ကိရိယာ တစ်ခုစီရဲ့ ထူးခြားတဲ့ ဖော်ထုတ်မှတ် (unique identifier) တစ်ခုပါ။ ၎င်းကို ဂဏန်း (0-9) နဲ့ အက္ခရာ (A-F သို့မဟုတ် a-f) တွေ ပါဝင်တဲ့ အက္ခရာ ၁၂ လုံးရဲ့ စီးရီးတစ်ခုအနေနဲ့ ပြသပါတယ်။ ဒီအက္ခရာတွေကို မကြာခဏ အတွဲလိုက် အုပ်စုဖွဲ့ပြီး ကော်လံ (:) တွေ ဒါမှမဟုတ် ဒက်ရှ် (-) တွေနဲ့ ခွဲထားပါတယ်။ ဥပမာ၊ MAC လိပ်စာ 02A4C67890BD ကို 02:a4:c6:78:90:bd ဒါမှမဟုတ် 02-A4-C6-78-90-BD လို့ ရေးနိုင်ပါတယ်။

### DHCP Offer

DHCP ဆာဗာတစ်ခုက DHCP Discover မက်ဆေ့ဂျ် လက်ခံရရှိတဲ့အခါ၊ ၎င်းက “ဟုတ်ကဲ့၊ ငါ မင်းကို ကူညီနိုင်တယ်။ ဒီ IP လိပ်စာကို မင်း အသုံးပြုလို့ရတယ်” လို့ ပြန်ဖြေပါတယ်။ ဒီပြန်ဖြေမှုကို **DHCP Offer** လို့ ခေါ်ပြီး၊ ဆာဗာက ကိရိယာဆီ သတ်မှတ်ပေးနိုင်တဲ့ ရရှိနိုင်တဲ့ IP လိပ်စာတစ်ခု ပါဝင်ပါတယ်။ ဒါက ဆိုင်အကူတစ်ယောက်က “ဟုတ်ကဲ့၊ အဲဒီ ပစ္စည်းက စတော့ခ်မှာ ရှိတယ်၊ မင်းအတွက် ရတယ်” လို့ ပြောတာနဲ့ တူပါတယ်။

### DHCP Request

DHCP Offer လက်ခံရရှိပြီးနောက်၊ ကိရိယာက စိတ်လှုပ်ရှားပြီး “ဟုတ်ကဲ့၊ အဲဒီ IP လိပ်စာကို ငါလိုချင်တယ်၊ ကျေးဇူးပြုပြီး” လို့ ပြောပါတယ်။ ကိရိယာက DHCP ဆာဗာဆီ **DHCP Request** မက်ဆေ့ဂျ် ပို့ပြီး၊ ကမ်းလှမ်းထားတဲ့ (offered) IP လိပ်စာကို တောင်းဆိုပါတယ်။ ဒါက ဖောက်သည်တစ်ယောက်က ဆိုင်အကူဆီ “ဟုတ်ကဲ့၊ အဲဒီ ပစ္စည်းကို ငါလိုချင်တယ်၊ ကျေးဇူးပြုပြီး” လို့ ဖြေတာနဲ့ တူပါတယ်။

### DHCP Acknowledgment

နောက်ဆုံးမှာ၊ DHCP ဆာဗာက ကိရိယာရဲ့ တောင်းဆိုမှုကို **DHCP Acknowledgment** မက်ဆေ့ဂျ်နဲ့ ပြန်ဖြေပါတယ်။ ဒါက “သေချာပါတယ်၊ အဲဒီ IP လိပ်စာက မင်းအတွက်ပါ၊ ဒီမှာ မင်းသိထားရမယ့် ထပ်ဆောင်း အသေးစိတ်အချက်တွေ ရှိတယ်” လို့ ပြောတာနဲ့ တူပါတယ်။ ဒီအသိအမှတ်ပြုမှု မက်ဆေ့ဂျ်က ကိရိယာဆီ IP လိပ်စာ သတ်မှတ်ပေးမှုကို အတည်ပြုပြီး (confirms)၊ ထပ်ဆောင်း ကွန်ဖီဂျူရေးရှင်း သတင်းအချက်အလက်တွေ (configuration information) ပေးဆောင်ပါတယ်။ ဒါက ဆိုင်အကူက ဖောက်သည်ဆီ ပစ္စည်းကို လွှဲပေးပြီး “ဒါက မင်းဝယ်ယူမှု၊ ဒီမှာ အလုပ်လုပ်ဖို့ လိုတဲ့ ဘက်ထရီတွေ ရှိတယ်” လို့ ပြောတာနဲ့ တူပါတယ်။ အောက်က ပုံက အထက်မှာ ဆွေးနွေးခဲ့တဲ့ DHCP IP သတ်မှတ်ပေးမှု လုပ်ငန်းစဉ်ရဲ့ အဆင့်တွေကို သရုပ်ပြထားပါတယ်။

_DHCP IP သတ်မှတ်ပေးမှု လုပ်ငန်းစဉ်_

<img src="https://d3c33hcgiwev3.Cloudfront.net/imageAssetProxy.v1/ZyhHTpJ_TbyLtKB490atqQ_5d56d14ee2af44e99eacf316959577e1_C2M3L1-Item-04-img1.png?expiry=1740960000000&hmac=MGJfZewFyHKqdPEtjeEE6O0TmFujg9sdQVjxhLuJx38">

ဒါပေမယ့် ဒီ IP လိပ်စာက အကန့်အသတ်ရှိတဲ့ အချိန်အတွက်ပဲ တရားဝင်မှာ (valid) ဖြစ်တာမို့၊ DHCP IP သက်တမ်းတိုး လုပ်ငန်းစဉ် (DHCP IP renewal process) လည်း ရှိပြီး၊ အဆင့်ပိုများပါဝင်ပါတယ်။ ဒါတွေကို စူးစမ်းကြည့်ကြပါစို့။

## DHCP IP Renewal Process DHCP IP သက်တမ်းတိုး လုပ်ငန်းစဉ်

### DHCP Lease Time

ကိရိယာတစ်ခုက DHCP ဆာဗာဆီကနေ IP လိပ်စာတစ်ခု ရတဲ့အခါ၊ ဆာဗာက အဲဒီ လိပ်စာအတွက် **လိစ် အချိန်** (lease time) ကိုလည်း သတ်မှတ်ပေးပါတယ်။ လိစ် အချိန်က ကိရိယာက အဲဒီ IP လိပ်စာကို သတ်မှတ်ထားတဲ့ ကာလတစ်ခုအထိ အသုံးပြုနိုင်တယ်လို့ ခွင့်ပြုတဲ့ ခွင့်ပြုချက် စာရွက် (permission slip) နဲ့ တူပါတယ်။ ဒါကို စာကြည့်တိုက်ကနေ စာအုပ်တစ်အုပ်ကို အချိန်တစ်ခုအထိ အောင်မြင်စွာ ငှားရမ်းတာနဲ့ တူတယ်လို့ စဉ်းစားကြည့်ပါ။

### DHCP Renewal

လိစ် အချိန် ၎င်းရဲ့ အဆုံးကို နီးကပ်လာတဲ့အခါ၊ ကိရိယာက စိုးရိမ်လာပြီး “ငါ့လိစ် ကုန်သွားရင် ဘာဖြစ်မလဲ။ ငါ့ IP လိပ်စာကို ဆုံးရှုံးမှာလား” လို့ တွေးတောပါတယ်။ IP လိပ်စာ မဆုံးရှုံးဖို့အတွက်၊ ကိရိယာက DHCP ဆာဗာဆီ **DHCP Renewal** တောင်းဆိုမှု ပို့ပါတယ်။ ဒါက စာကြည့်တိုက်မှူးဆီ “ဒီစာအုပ်ကို နောက်ထပ် ခဏလောက် ငှားလို့ရမလား၊ ကျေးဇူးပြုပြီး” လို့ တောင်းဆိုတာနဲ့ တူပါတယ်။

### DHCP Server Response

DHCP ဆာဗာက DHCP Renewal တောင်းဆိုမှု လက်ခံရရှိပြီး IP လိပ်စာ ရရှိနိုင်နေသေးလားဆိုတာကို စစ်ဆေးပါတယ်။ IP လိပ်စာက ရရှိနိုင်နေသေးရင်၊ ဆာဗာက DHCP Acknowledgment မက်ဆေ့ဂျ် ပို့ပြီး ကိရိယာအတွက် လိစ် အချိန်ကို သက်တမ်းတိုးပေးပါတယ်။ ဒါက စာကြည့်တိုက်မှူးက “သေချာပါတယ်၊ ဒီစာအုပ်ကို နောက်ထပ် ခဏလောက် ငှားလို့ရတယ်၊ ပျော်ပျော်ရွှင်ရွှင် ဖတ်ပါ” လို့ ပြောတာနဲ့ တူပါတယ်။

### DHCP Address Release

ကိရိယာက လိစ်ကို သက်တမ်းမတိုးရင်၊ ဒါမှမဟုတ် DHCP ဆာဗာက သက်တမ်းတိုး တောင်းဆိုမှုကို မတုံ့ပြန်ရင်၊ လိစ် အချိန် သက်တမ်းကုန်သွားပါတယ် (expires)။ အဲဒီ IP လိပ်စာက ရရှိနိုင်တဲ့ လိပ်စာ စုစည်းမှု (pool of available addresses) ထဲကို ပြန်လွှတ်ပေးပါတယ် (released)။ ဒါက စာကြည့်တိုက်မှူးက “ဝမ်းနည်းပါတယ်၊ မင်းက စာအုပ်ကို လုံလောက်တဲ့ အချိန်ကြာ သိမ်းထားခဲ့ပြီ၊ စာကြည့်တိုက်ကို ပြန်ပေးရမယ့် အချိန်ရောက်ပြီ” လို့ ပြောတာနဲ့ တူပါတယ်။

အောက်က ပုံက အထက်မှာ ဆွေးနွေးခဲ့တဲ့ IP သက်တမ်းတိုး လုပ်ငန်းစဉ်ကို သရုပ်ပြထားပါတယ်။

_DHCP IP သက်တမ်းတိုး လုပ်ငန်းစဉ်_

<img src="https://d3c33hcgiwev3.Cloudfront.net/imageAssetProxy.v1/oUoNbMBMTLmVN2rdtV1apw_44f6bd1a540940cfab7c502fc45758e1_image.png?expiry=1740960000000&hmac=coU6q9PXdXiEODvzynX_8m1ZIDdW_mkHnb659tLNHO0">

## Advantages and Disadvantages of the DHCP System DHCP စနစ်ရဲ့ အားသာချက်များနှင့် အားနည်းချက်များ

DHCP မှာ အားသာချက် (advantages) တချို့ ရှိပါတယ်။ ၎င်းရဲ့ အလိုအလျောက် လုပ်ငန်းစဉ် (automated process) က ကွန်ရက် ကွန်ဖီဂျူရေးရှင်းကို ရိုးရှင်းစေပြီး (simplifies)၊ စီမံခန့်ခွဲရေး ဝန်ပိမှု (administrative overhead) နဲ့ ကွန်ဖီဂျူရေးရှင်း အမှားတွေ (configuration errors) ကို လျှော့ချပါတယ်။ အထူးသဖြင့် ကွန်ရက်ကြီးတွေ (large networks) အတွက်ပါ။ ဒါပေမယ့် DHCP မှာ အားနည်းချက် (disadvantages) တချို့လည်း ရှိပါတယ်။ ၎င်းက IP လိပ်စာတွေ နဲ့ အခြား ကွန်ဖီဂျူရေးရှင်း သတင်းအချက်အလက်တွေ သတ်မှတ်ပေးမှုကို စီမံခန့်ခွဲဖို့ DHCP ဆာဗာ တစ်ခုတည်းပေါ် အားကိုးနေရတာကြောင့်ပါ။ DHCP ဆာဗာ ချွတ်ယွင်းသွားရင် (goes down)၊ ကွန်ရက်ပေါ်က ကိရိယာတွေက IP လိပ်စာတွေ မရယူနိုင်တော့ဘဲ ကွန်ရက်နဲ့ ချိတ်ဆက်လို့ မရတော့နိုင်ပါဘူး။ DHCP က မှန်ကန်စွာ ကွန်ဖီဂျူလုပ်မထားရင် (configured properly) လုံခြုံရေး အန္တရာယ်တွေ (security risks) မိတ်ဆက်ပေးနိုင်ပါတယ်။ ဥပမာ၊ မသမာတဲ့ DHCP ဆာဗာတွေ (rogue DHCP servers) က ကွန်ရက်ပေါ်က ကိရိယာတွေဆီ IP လိပ်စာတွေနဲ့ အခြား ကွန်ဖီဂျူရေးရှင်း သတင်းအချက်အလက်တွေ သတ်မှတ်ပေးဖို့ အသုံးပြုနိုင်ပြီး၊ တိုက်ခိုက်သူတွေဆီ အရေးကြီး ဒေတာ (sensitive data) ကို ဖော်ထုတ်ဖို့ ဖြစ်နိုင်ချေ ရှိပါတယ်။

## DHCP Relay DHCP ရေလေ

သင်ဟာ IP လိပ်စာ လိုအပ်တဲ့ ကိရိယာတစ်ခု ဖြစ်ပြီး DHCP ဆာဗာနဲ့ တိုက်ရိုက် ချိတ်ဆက်မထားဘူးဆိုတာ စဉ်းစားကြည့်ပါ။ အဲဒီအစား၊ သင်ဟာ ဆွစ်ချ် (switch) တစ်ခုနဲ့ ချိတ်ဆက်ထားပြီး၊ အဲဒီ ဆွစ်ချ်က နောက်ထပ် ဆွစ်ချ် တစ်ခုနဲ့ ချိတ်ဆက်ထားပြီး၊ အဲဒီ ဆွစ်ချ်က နောက်ဆုံးမှာ DHCP ဆာဗာနဲ့ ချိတ်ဆက်ထားတယ်ဆိုပါစို့။ သင် ဘာလုပ်မလဲ။

ဒီမှာ **DHCP ရေလေ အေဂျင့်** (DHCP relay agent) က ပါဝင်လာပါတယ်။ ၎င်းက သင်နဲ့ DHCP ဆာဗာအကြား မက်ဆေ့ဂျ် ပို့ဆောင်ဖို့ ပျံသန်းနေတဲ့ စာပို့သယ်ငှက် (messenger bird) နဲ့ တူပါတယ်။ DHCP ရေလေ အေဂျင့်ဆိုတာ ဆွစ်ချ်တွေပေါ်မှာ တပ်ဆင်ထားတဲ့ (installed) အထူးပြု ပရိုဂရမ် (special program) တစ်ခုဖြစ်ပြီး၊ အခြား ဆပ်နက်တွေ (subnets) ပေါ်က ကိရိယာတွေနဲ့ DHCP ဆာဗာအကြား DHCP မက်ဆေ့ဂျ်တွေကို ကြားဖြတ်ယူ (intercepts) ပြီး လွှဲပို့ပေးပါတယ် (forwards)။

## Conclusion နိဂုံး

ဒီစာဖတ်ခြင်းမှာ၊ သင်ဟာ ကလိုင်းယင့်-ဆာဗာ မော်ဒယ်က DHCP IP သတ်မှတ်ပေးမှုနဲ့ ဘယ်လို အလုပ်လုပ်သလဲဆိုတာကို ရှာဖွေတွေ့ရှိခဲ့ပါတယ်။ DHCP IP သတ်မှတ်ပေးမှု နဲ့ သက်တမ်းတိုး လုပ်ငန်းစဉ်ကို ပိုအသေးစိတ် စူးစမ်းခဲ့ပါတယ်။ DHCP ရေလေ အေဂျင့်တွေ (DHCP relay agents) နဲ့ DHCP ရဲ့ အားသာချက်တချို့နဲ့ အားနည်းချက်တချို့အကြောင်းကိုလည်း လေ့လာခဲ့ပါတယ်။
